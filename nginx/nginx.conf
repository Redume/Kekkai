events { }

http {
    include /etc/nginx/mime.types;

    limit_req_zone $binary_remote_addr zone=kekkai:10m rate=10r/s;
    
    server {
        listen 80;
        server_name ${DOMAIN}; # Your domain
    
        return 301 https://$host$request_uri;
    }
    
    server {
        listen 443 ssl;
        
        server_name ${DOMAIN}; # Your domain
        
        ssl_certificate ${SSL_CERT};
        ssl_certificate_key ${SSL_CERT_KEY};

        include chart/nginx.conf;
        include server/nginx.conf;
        include web/nginx.conf;
        include docs/nginx.conf;
    }
}